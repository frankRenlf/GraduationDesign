<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="./pintura.css"/>
    <link rel="stylesheet" href="./styles.css"/>
</head>
<body>

<input type="file" value="select img" id="file">
<img src="" id="img" alt="ÊöÇÊó†" width="50" height="50">
<button id="upload">upload</button>
<!--<form method="post" action="/upload" enctype="multipart/form-data">-->
<!--    <pintura-input name="my-image"></pintura-input>-->
<!--    <button type="submit">Upload</button>-->
<!--</form>-->
<!--<script src="pintura-input.js"></script>-->
<div class="my-editor"></div>
<img src="" alt=""/>
<script>
    let file = document.querySelector("#file");   //Ë°®Âçï
    let img = document.querySelector("#img");   //ÂõæÁâá
    let upload = document.querySelector("#upload");   //‰∏ãËΩΩ
    let body = document.body;
    let file1 = null;
    file.onchange = function (e) {
        console.log(e);
        file1 = e.target.files[0]; //Êñá‰ª∂‰∏ä‰º†
        img.src = URL.createObjectURL(e.target.files[0]); //ÂõæÁâá‰∏ä‰º†
    }

    upload.onclick = function () {
        let a = document.createElement("a");
        a.setAttribute("href", URL.createObjectURL(file1));
        a.setAttribute("download", "my-image1.png");  //file1.nameÊñá‰ª∂ÁöÑÂêçÂ≠ó
        a.click();
    }
</script>
<script type="module">
    import {appendDefaultEditor} from "./pintura.js";

    const pintura = appendDefaultEditor(".my-editor", {
        // The source image to load
        src: './contain/my-image1.png',
        // This will set a square crop aspect ratio
        imageCropAspectRatio: 1,
        // Stickers available to user
        stickers: [
            ["Emoji", ["‚≠êÔ∏è", "üòä", "üëç", "üëé", "‚òÄÔ∏è", "üå§", "üå•"]],
            [
                "Markers",
                [
                    {
                        src: "sticker-one.svg",
                        width: "5%",
                        alt: "One"
                    },
                    {
                        src: "sticker-two.svg",
                        width: "5%",
                        alt: "Two"
                    },
                    {
                        src: "sticker-three.svg",
                        width: "5%",
                        alt: "Three"
                    }
                ]
            ]
        ]
    });
    pintura.on('process', ({dest}) => {
        const image = document.querySelector('img');
        image.setAttribute('src', URL.createObjectURL(dest));
    });


</script>

</body>
</html>
<!--<!DOCTYPE html>-->

<!--<link rel="stylesheet" href="./pintura.css" />-->

<!--<style>-->
<!--  .my-editor {-->
<!--    height: 600px;-->
<!--  }-->
<!--</style>-->

<!--<div class="my-editor"></div>-->

<!--<script type="module">-->
<!--  import {-->
<!--    // The editor factory method-->
<!--    appendEditor,-->

<!--    // Import the default image reader and writer-->
<!--    createDefaultImageReader,-->
<!--    createDefaultImageWriter,-->

<!--    // The method used to register the plugins-->
<!--    setPlugins,-->

<!--    // The plugins we want to use-->
<!--    plugin_crop,-->
<!--    plugin_finetune,-->
<!--    plugin_filter,-->
<!--    plugin_annotate,-->

<!--    // The user interface and plugin locale objects-->
<!--    locale_en_gb,-->
<!--    plugin_crop_locale_en_gb,-->
<!--    plugin_finetune_locale_en_gb,-->
<!--    plugin_filter_locale_en_gb,-->
<!--    plugin_annotate_locale_en_gb,-->

<!--    // Because we use the annotate plugin we also need-->
<!--    // to import the markup editor locale and the shape preprocessor-->
<!--    markup_editor_locale_en_gb,-->
<!--    createDefaultShapePreprocessor,-->

<!--    // Import the default configuration for the markup editor and finetune plugins-->
<!--    markup_editor_defaults,-->
<!--    plugin_finetune_defaults,-->
<!--    plugin_filter_defaults,-->
<!--  } from './pintura.js';-->

<!--  // This registers the plugins with Pintura Image Editor-->
<!--  setPlugins(plugin_crop, plugin_finetune, plugin_filter);-->

<!--  // Append the editor-->
<!--  appendEditor('.my-editor', {-->
<!--    // The source image to load-->
<!--    src: './my-image.jpeg',-->

<!--    // This will read the image data (required)-->
<!--    imageReader: createDefaultImageReader(),-->

<!--    // This will write the output image-->
<!--    imageWriter: createDefaultImageWriter(),-->

<!--    // The markup editor default options, tools, shape style controls-->
<!--    ...markup_editor_defaults,-->

<!--    // The finetune util controls-->
<!--    ...plugin_finetune_defaults,-->

<!--    // The filter util controls-->
<!--    ...plugin_filter_defaults,-->

<!--    // This handles complex shapes like arrows / frames-->
<!--    shapePreprocessor: createDefaultShapePreprocessor(),-->

<!--    // This will set a square crop aspect ratio-->
<!--    imageCropAspectRatio: 1,-->

<!--    // The icons and labels to use in the user interface (required)-->
<!--    locale: {-->
<!--      ...locale_en_gb,-->
<!--      ...plugin_crop_locale_en_gb,-->
<!--      ...plugin_finetune_locale_en_gb,-->
<!--      ...plugin_filter_locale_en_gb,-->
<!--      ...plugin_annotate_locale_en_gb,-->
<!--      ...markup_editor_locale_en_gb,-->
<!--    },-->
<!--  });-->
<!--</script>-->
